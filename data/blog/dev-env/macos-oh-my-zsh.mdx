---
title: 美化 macOS 的 Terminal - 使用 iTerm2 + Oh My Zsh + Powerlevel10k + 各種好用的插件
date: 'Tue Oct 12 2021 17:57:23 GMT+0800'
lastmod: 'Tue Oct 12 2021 19:15:23 GMT+0800'
tags: ['中文', '開發環境', 'macOS']
draft: false
summary: '本篇文章主要紀錄如何美化 macOS 的 Terminal 環境 ，讓平常工作起來更高效。 這邊會安裝以下套件 Homebrew, iTerm2, Zsh, Oh My Zsh, Powerlevel10k 主題, zsh-autosuggestions, zsh-syntax-highlighting, 還有 Zsh-z。 '
images: ['/static/images/dev-env/macos-oh-my-zsh/fig01.webp']
layout: PostLayout
authors: ['kwchang0831']
---

<TOCInline toc={props.toc} tocOpen={false} asDisclosure toHeading={1} />
<hr />

![fig01](/static/images/dev-env/macos-oh-my-zsh/fig01.webp)

<br />

# 介紹

本篇文章主要紀錄如何美化 macOS 的 Terminal 環境 ，讓平常工作起來更高效。

這邊會安裝以下套件：

- Homebrew
- iTerm2
- Zsh
- Oh My Zsh
- Powerlevel 10k 主題
- zsh-autosuggestions
- zsh-syntax-highlighting
- Zsh-z

# 安裝環境

這邊使用的環境配置為 macOS ， 並使用 iTerm2 為我們的終端機。

# 安裝 [Homebrew](https://brew.sh/index_zh-tw)

Homebrew 是一個在 macOS 上很夯很方便的套件管理工具:

打開 Terminal 輸入以下指令安裝：

```
/bin/bash -c "$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/HEAD/install.sh)"
```

## 常用 Homebrew 指令

```shell:更新Homebrew套件清單
brew update
```

```shell:更新Homebrew已安裝的套件
brew upgrade
```

```shell:更新用Cask安裝的套件
brew upgrade --cask
```

```shell:清除Homebrew舊版的套件
brew cleanup
```

```shell:Homebrew安裝套件
brew install
```

```shell:Homebrew解除安裝套件
brew uninstall
```

# 安裝 [iTerm2](https://iterm2.com/)

iTerm2 是一個比內建 Terminal 更好的終端機。

打開 Terminal 輸入以下指令，用 Homebrew 的 Cask 來安裝：

```shell
brew install --cask iterm2
```

## 變更 iTerm2 顏色主題

更改顏色主題的方式為 iTerm → Preferences → Profiles → Colors → Color Presets... 。  
我自己是使用預設的 Dark Background。

![fig02](/static/images/dev-env/macos-oh-my-zsh/fig02.webp)

<br />

如果內建的不夠使用的話，  
這邊有很多顏色主題可供下載使用: https://github.com/mbadolato/iTerm2-Color-Schemes

# 查看系統已安裝的 Shell

```shell
cat /etc/shells
```

若沒有看到 zsh ，安裝 zsh

```shell
brew install zsh
```

# 修改預設 Shell 使用 Zsh

```shell
chsh -s /bin/zsh
```

# 安裝 [Oh My Zsh](https://ohmyz.sh/)

```shell
sh -c "$(curl -fsSL https://raw.githubusercontent.com/robbyrussell/oh-my-zsh/master/tools/install.sh)"
```

# 安裝 [PowerLevel10k](https://github.com/romkatv/powerlevel10k) 主題

```shell
git clone https://github.com/romkatv/powerlevel10k.git $ZSH_CUSTOM/themes/powerlevel10k
```

# 安裝 [zsh-autosuggestions](https://github.com/zsh-users/zsh-autosuggestions) 插件

```shell
git clone https://github.com/zsh-users/zsh-autosuggestions ${ZSH_CUSTOM:-~/.oh-my-zsh/custom}/plugins/zsh-autosuggestions
```

輸入指令時，如果看到灰色字的自動完成顯示，可以按下 ➔ 來採用。

# 安裝 [zsh-syntax-highlighting](https://github.com/zsh-users/zsh-syntax-highlighting) 插件

```shell
git clone https://github.com/zsh-users/zsh-syntax-highlighting.git ${ZSH_CUSTOM:-~/.oh-my-zsh/custom}/plugins/zsh-syntax-highlighting
```

# 修改 zshrc 使用者設定檔

```shell
open ~/.zshrc
```

1. 修改 主題

`ZSH_THEME="powerlevel10k/powerlevel10k"`

2. 使用 Plugins

`plugins=(git zsh-autosuggestions zsh-syntax-highlighting)`

儲存。

3. 應用修改過的 zshrc

```shell
source ~/.zshrc
```

# Powerlevel10k 設定精靈 與 字型安裝

應用修改 `~/.zshrc` 之後，因為第一次使用 Powerlevel10k，會自動啟動設定。

若是之前沒有安裝過 Pathed 過的字型，設定精靈會詢問是否要幫你安裝 **Meslo Nerd Font**。  
按造設定精靈的提示，安裝完字體之後會要求你重新開啟 iTerm2 。  
這邊需要使用 `Command + Q` 關閉 iTerm2 之後重新開啟。

之後就會進入設定的畫面，按造你的需求完成設定即可。

## 手動安裝 Patched 過的字型

若是沒有碰到設定精靈詢問你安裝字型的問題，然後顯示是有亂碼的話

請下載並安裝以下四個字型：

- [MesloLGS NF Regular.ttf](https://github.com/romkatv/dotfiles-public/raw/master/.local/share/fonts/NerdFonts/MesloLGS%20NF%20Regular.ttf)
- [MesloLGS NF Bold.ttf](https://github.com/romkatv/dotfiles-public/raw/master/.local/share/fonts/NerdFonts/MesloLGS%20NF%20Bold.ttf)
- [MesloLGS NF Italic.ttf](https://github.com/romkatv/dotfiles-public/raw/master/.local/share/fonts/NerdFonts/MesloLGS%20NF%20Italic.ttf)
- [MesloLGS NF Bold Italic.ttf](https://github.com/romkatv/dotfiles-public/raw/master/.local/share/fonts/NerdFonts/MesloLGS%20NF%20Bold%20Italic.ttf)

#### 安裝 wget 套件

```shell
brew install wget
```

#### 下載字型

```shell
wget https://github.com/romkatv/dotfiles-public/raw/master/.local/share/fonts/NerdFonts/MesloLGS%20NF%20Regular.ttf &&
wget https://github.com/romkatv/dotfiles-public/raw/master/.local/share/fonts/NerdFonts/MesloLGS%20NF%20Bold.ttf &&
wget https://github.com/romkatv/dotfiles-public/raw/master/.local/share/fonts/NerdFonts/MesloLGS%20NF%20Italic.ttf &&
wget https://github.com/romkatv/dotfiles-public/raw/master/.local/share/fonts/NerdFonts/MesloLGS%20NF%20Bold%20Italic.ttf
```

下載完成打開字型檔案，點擊 Install Font 。

#### 修改 iTerm2 的字型

更改字型的方式為 iTerm → Preferences → Profiles → Text → Font 。
把 Font 改成 **MesloLGS NF**。

![fig03](/static/images/dev-env/macos-oh-my-zsh/fig03.webp)

<br />

# 重新設定 Powerlevel10k

若之前沒有啟動 Powerlevel10k 設定小幫手，或是還需要重新設定 Powerlevel10k，

打開 Shell 輸入，

```shell
p10k configure
```

# [ 選用 ] 安裝 [Zsh-z](https://github.com/agkozak/zsh-z) 插件

類似於 [autojump](https://github.com/wting/autojump) 的插件，比 `cd` 更快速地直接跳到想去的資料夾，且效能更好沒有一堆依賴包。

## 安裝

```shell
git clone https://github.com/agkozak/zsh-z $ZSH_CUSTOM/plugins/zsh-z
```

## 修改 zshrc 使用者設定檔

```shell
open ~/.zshrc
```

1. 在 Plugins 增加 `zsh-z`

例如： `plugins=(git zsh-autosuggestions zsh-syntax-highlighting zsh-z)`

2. 儲存。

3. 應用修改過的 zshrc

```shell
source ~/.zshrc
```

## 使用方法

#### 查看已知的資料夾位置

```shell
z
```

#### 直接進入包含此字串的資料夾

```shell
cd /
z et
```

#### 查看其他用法

```shell
z -h
```
