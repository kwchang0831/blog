---
title: 'Windows 上用 WSL 安裝 Centos'
date: 'Sat Sep 11 2021 18:00:00 GMT+0800'
lastmod: 'Tue Oct 12 2021 16:35:41 GMT+0800'
tags: ['中文', '開發環境', 'Windows', 'WSL', 'Windows Terminal', 'Centos']
draft: false
summary: '本篇文章主要紀錄如何在 Windows 10 使用 Windows Terminal 於 Linux 子系統 (WSL) 內安裝 Centos 。 而又因微軟預設並沒有提供 Centos 的 image 可供安裝，這邊也會介紹如何下載可供 WSL 安裝的 image 檔案來進行安裝。 '
images: ['/static/images/dev-env/wsl-centos/fig01.webp']
layout: PostLayout
authors: ['kwchang0831']
---

<TOCInline toc={props.toc} tocOpen={false} asDisclosure toHeading={1} />
<hr />

![fig01](/static/images/dev-env/wsl-centos/fig01.webp)

<br />

# 介紹

本篇文章主要紀錄如何在 Windows 10 使用 Windows Terminal 於 Linux 子系統 (WSL) 內安裝 Centos 。

而又因微軟預設並沒有提供 Centos 的 image 可供安裝，  
這邊也會介紹如何下載可供 WSL 安裝的 image 檔案來進行安裝。

# 安裝環境

請確認你的 Windows 10 已經安裝好 WSL 與 Windows Terminal，  
若是還沒有設置好，可以參考看看：

- 從 [Windows 上用 WSL 安裝 Ubuntu](/blog/dev-env/wsl-ubuntu) 參考 [安裝 WSL](/blog/dev-env/wsl-ubuntu#安裝-wsl)。
- 從 [Windows Terminal - 比 Cmder 更好用的終端機](/blog/dev-env/windows-termianl) 參考 安裝 Windows Terminal

# 查詢可安裝的 Linux Distro

```shell
wsl -l -o
```

![fig02](/static/images/dev-env/wsl-centos/fig02.webp)

<br />

我們可以看到列表裡並沒有 Centos7 可以安裝。  
沒關係，我們去找可供 WSL 安裝的 Image 檔案。

# 下載 可供 WSL 安裝的 CentOS

我們這邊示範的版本是 CentOS 7.9-2009

https://github.com/mishamosher/CentOS-WSL/releases/tag/7.9-2009

![fig03](/static/images/dev-env/wsl-centos/fig03.webp)

<br />

如果需要別的版本，請參考 https://github.com/mishamosher/CentOS-WSL/releases

裡面包含以下版本：

- CentOS 8-stream
- CentOS 8
- CentOS 7
- CentOS 6

# 解壓縮下載的映像檔

下載好之後，請解壓縮到一個適合存放的資料夾裡。

![fig04](/static/images/dev-env/wsl-centos/fig04.webp)

<br />

# 安裝 Centos 7

點擊兩下執行安裝。安裝會自動執行，最後會要你輸入任何按鍵以繼續，就完成安裝了。

![fig06](/static/images/dev-env/wsl-centos/fig06.webp)

<br />

# Windows Terminal

如果你之前已經有安裝 Windows Terminal。 Centos7 的選項會自動匯入。  
如果沒有顯示 Centos 7 的選項，請關閉所有 Windows Terminal 重新開啟就會自動匯入了。

![fig07](/static/images/dev-env/wsl-centos/fig07.webp)

<br />

# 更新 Centos 7

```shell
yum -y update && yum -y upgrade
```

# 解除安裝 Centos 7

如果想要解除安裝，於 Centos 7 存放檔案的資料夾開啟 PowerShell ，

![fig08](/static/images/dev-env/wsl-centos/fig08.webp)

輸入以下指令：

```
./Centos7.exe clean
```

這樣就完成解除安裝了。

Windows Terminal 裡面的 Centos7 選項會自己刪除。  
只要關閉再重新開啟 Windows Terminal 就可以了。

# [ 選用 ] 安裝 NeoFetch 在 Centos 7 上

## 安装 epel-release

```
yum install epel-release -y
```

## 增加第三方來源庫

```
curl -o /etc/yum.repos.d/konimex-neofetch-epel-7.repo https://copr.fedorainfracloud.org/coprs/konimex/neofetch/repo/epel-7/konimex-neofetch-epel-7.repo
```

## 安裝 NeoFetch

```
yum install neofetch -y
```
